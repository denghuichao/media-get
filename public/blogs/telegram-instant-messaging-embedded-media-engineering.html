<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegramå³æ—¶é€šè®¯è§†é¢‘æå–æŠ€æœ¯æ·±åº¦è§£æï¼šåµŒå…¥å¼åª’ä½“å¤„ç†å·¥ç¨‹</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #0088cc;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #1976d2;
            border-left: 5px solid #0088cc;
            padding-left: 20px;
            margin-top: 40px;
        }

        h3 {
            color: #388e3c;
            margin-top: 30px;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            position: relative;
        }

        .code-block::before {
            content: "Python";
            position: absolute;
            top: 10px;
            right: 15px;
            background: #0088cc;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #0088cc;
        }

        .architecture-diagram {
            background: linear-gradient(45deg, #f0f2f5, #e8eaf0);
            border: 2px solid #0088cc;
            border-radius: 10px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
        }

        .tech-specs {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        th,
        td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: linear-gradient(135deg, #0088cc, #006bb3);
            color: white;
            font-weight: bold;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: #1976d2;
            color: white;
            border-radius: 10px;
        }
    
.blog-navigation {
    margin: 20px 0;
    text-align: center;
}

.blog-index-link {
    display: inline-block;
    padding: 10px 20px;
    background-color: #85C341;
    color: white;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.3s;
}

.blog-index-link:hover {
    background-color: #6c9a33;
}
</style>
</head>

<body>
    <div class="container">
        <h1>ğŸ“± Telegramå³æ—¶é€šè®¯è§†é¢‘æå–æŠ€æœ¯æ·±åº¦è§£æ</h1>
<div class="blog-navigation">
    <a href="/#blogs" class="blog-index-link">â† Back to Blog Index</a>
</div>

        <p style="text-align: center; font-size: 1.2em; color: #666;">
            æ·±å…¥è§£æyt-dlpå¦‚ä½•ä»å…¨çƒé¢†å…ˆå³æ—¶é€šè®¯å¹³å°Telegramæå–è§†é¢‘å†…å®¹çš„åµŒå…¥å¼åª’ä½“å¤„ç†æŠ€æœ¯
        </p>

        <h2>ğŸ—ï¸ å³æ—¶é€šè®¯åª’ä½“æ¶æ„</h2>
        <div class="architecture-diagram">
            <h3>TelegramåµŒå…¥å¼è§†é¢‘æå–ç³»ç»Ÿæ¶æ„</h3>
            <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é¢‘é“æ¶ˆæ¯      â”‚    â”‚   åµŒå…¥å¼é¡µé¢    â”‚    â”‚   è§†é¢‘æ’­æ”¾å™¨    â”‚
â”‚ Channel Message â”‚    â”‚  Embed Frame    â”‚    â”‚  Video Player   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                      â”‚                      â”‚
      â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ URLæ¨¡å¼è¯†åˆ«     â”‚    â”‚ åµŒå…¥å‚æ•°å¤„ç†    â”‚    â”‚ å¤šè§†é¢‘æ”¯æŒ      â”‚
â”‚ URL Pattern     â”‚â—„â”€â”€â–ºâ”‚ Embed Params    â”‚â—„â”€â”€â–ºâ”‚ Multi-video     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                      â”‚                      â”‚
      â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¶ˆæ¯æ–‡æœ¬æå–    â”‚    â”‚ æ—¶é—´æˆ³è§£æ      â”‚    â”‚ æ’­æ”¾åˆ—è¡¨ç”Ÿæˆ    â”‚
â”‚ Message Extract â”‚    â”‚ Timestamp Parse â”‚    â”‚ Playlist Build  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </pre>
        </div>

        <h2>ğŸ”§ æ ¸å¿ƒæŠ€æœ¯å®ç°</h2>

        <h3>1. åµŒå…¥å¼æå–å™¨è®¾è®¡</h3>
        <div class="highlight">
            <strong>è®¾è®¡ç†å¿µï¼š</strong>Telegramé‡‡ç”¨åµŒå…¥å¼é¡µé¢è®¾è®¡ï¼Œé€šè¿‡embedå‚æ•°è·å–ç®€åŒ–çš„åª’ä½“æ’­æ”¾é¡µé¢ï¼Œå®ç°è½»é‡çº§çš„è§†é¢‘å†…å®¹æå–ã€‚
        </div>

        <div class="code-block">
            <pre># TelegramåµŒå…¥å¼æå–å™¨
class TelegramEmbedIE(InfoExtractor):
    """TelegramåµŒå…¥å¼è§†é¢‘æå–å™¨"""
    
    IE_NAME = 'telegram:embed'
    _VALID_URL = r'https?://t\.me/(?P<channel_id>[^/]+)/(?P<id>\d+)'
    
    def _real_extract(self, url):
        channel_id, msg_id = self._match_valid_url(url).group('channel_id', 'id')
        
        # ä¸‹è½½åµŒå…¥å¼é¡µé¢
        embed = self._download_webpage(
            url, msg_id, 
            query={'embed': '1', 'single': []}, 
            note='Downloading embed frame')
        
        return self._process_embed_content(embed, channel_id, msg_id)</pre>
        </div>

        <h3>2. æ™ºèƒ½æ–‡æœ¬æ¸…ç†æœºåˆ¶</h3>
        <div class="code-block">
            <pre># é«˜çº§æ–‡æœ¬å¤„ç†ç®—æ³•
def clean_text(html_class, html):
    """æ™ºèƒ½æ¸…ç†HTMLæ–‡æœ¬å†…å®¹"""
    text = clean_html(get_element_by_class(html_class, html))
    return text.replace('\n', ' ') if text else None

# æ¶ˆæ¯ä¿¡æ¯æå–
def _extract_message_info(self, embed, channel_id):
    """æå–Telegramæ¶ˆæ¯çš„å®Œæ•´ä¿¡æ¯"""
    
    description = clean_text('tgme_widget_message_text', embed)
    
    message = {
        'title': description or '',
        'description': description,
        'channel': clean_text('tgme_widget_message_author', embed),
        'channel_id': channel_id,
        'timestamp': unified_timestamp(self._search_regex(
            r'<time[^>]*datetime="([^"]*)"', embed, 
            'timestamp', fatal=False)),
    }
    
    return message</pre>
        </div>

        <h3>3. å¤šè§†é¢‘å†…å®¹å¤„ç†å¼•æ“</h3>
        <div class="code-block">
            <pre># å¤æ‚å¤šè§†é¢‘å¤„ç†é€»è¾‘
def _extract_videos(self, embed, message):
    """æå–å•ä¸ªæ¶ˆæ¯ä¸­çš„å¤šä¸ªè§†é¢‘å†…å®¹"""
    
    videos = []
    
    # ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…è§†é¢‘æ’­æ”¾å™¨å—
    for video in re.findall(
        r'<a class="tgme_widget_message_video_player(?s:.+?)</time>', 
        embed):
        
        # æå–è§†é¢‘URL
        video_url = self._search_regex(
            r'<video[^>]+src="([^"]+)"', video, 
            'video URL', fatal=False)
        
        # æå–ç½‘é¡µURL
        webpage_url = self._search_regex(
            r'<a class="tgme_widget_message_video_player[^>]+href="([^"]+)"',
            video, 'webpage URL', fatal=False)
        
        if not video_url or not webpage_url:
            continue
            
        # æ„å»ºè§†é¢‘ä¿¡æ¯
        video_info = {
            'id': url_basename(webpage_url),
            'webpage_url': update_url_query(webpage_url, {'single': True}),
            'duration': parse_duration(self._search_regex(
                r'<time[^>]+duration[^>]*>([\d:]+)</time>', 
                video, 'duration', fatal=False)),
            'thumbnail': self._search_regex(
                r'tgme_widget_message_video_thumb"[^>]+background-image:url\(\'([^\']+)\'\)',
                video, 'thumbnail', fatal=False),
            'formats': [{
                'url': video_url,
                'ext': 'mp4',
            }],
            **message,
        }
        
        videos.append(video_info)
    
    return videos</pre>
        </div>

        <h2>ğŸ¯ æ ¸å¿ƒç‰¹æ€§åˆ†æ</h2>

        <h3>1. å¤šè§†é¢‘æ™ºèƒ½å¤„ç†</h3>
        <div class="performance-metrics">
            <div class="metric-card">
                <div class="metric-value">å¤šè§†é¢‘</div>
                <div>å•æ¶ˆæ¯æ”¯æŒ</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">åµŒå…¥å¼</div>
                <div>è½»é‡çº§è®¿é—®</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">æ™ºèƒ½æ’­æ”¾åˆ—è¡¨</div>
                <div>è‡ªåŠ¨åŒ–ç»„ç»‡</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">å•è§†é¢‘æ¨¡å¼</div>
                <div>çµæ´»é€‰æ‹©</div>
            </div>
        </div>

        <h3>2. URLå‚æ•°å¤„ç†ç­–ç•¥</h3>
        <table>
            <tr>
                <th>å‚æ•°ç±»å‹</th>
                <th>åŠŸèƒ½è¯´æ˜</th>
                <th>å¤„ç†é€»è¾‘</th>
                <th>ç”¨æˆ·ä½“éªŒ</th>
            </tr>
            <tr>
                <td>embed=1</td>
                <td>åµŒå…¥å¼é¡µé¢</td>
                <td>è·å–ç®€åŒ–æ’­æ”¾é¡µé¢</td>
                <td>å¿«é€ŸåŠ è½½</td>
            </tr>
            <tr>
                <td>single</td>
                <td>å•è§†é¢‘æ¨¡å¼</td>
                <td>ä»…æå–ç¬¬ä¸€ä¸ªè§†é¢‘</td>
                <td>ç²¾ç¡®æ§åˆ¶</td>
            </tr>
            <tr>
                <td>noplaylist</td>
                <td>ç¦ç”¨æ’­æ”¾åˆ—è¡¨</td>
                <td>å¼ºåˆ¶å•è§†é¢‘è¿”å›</td>
                <td>ç”¨æˆ·åå¥½</td>
            </tr>
            <tr>
                <td>è‡ªåŠ¨æ£€æµ‹</td>
                <td>æ™ºèƒ½æ¨¡å¼é€‰æ‹©</td>
                <td>æ ¹æ®å†…å®¹è‡ªåŠ¨åˆ¤æ–­</td>
                <td>æœ€ä½³ä½“éªŒ</td>
            </tr>
        </table>

        <h3>3. æ’­æ”¾åˆ—è¡¨æ™ºèƒ½ç”Ÿæˆ</h3>
        <div class="code-block">
            <pre># æ™ºèƒ½æ’­æ”¾åˆ—è¡¨å¤„ç†é€»è¾‘
def _process_playlist_logic(self, videos, url, channel_id, msg_id, message):
    """æ™ºèƒ½å¤„ç†æ’­æ”¾åˆ—è¡¨ç”Ÿæˆé€»è¾‘"""
    
    playlist_id = None
    
    # æ£€æŸ¥æ˜¯å¦éœ€è¦ç”Ÿæˆæ’­æ”¾åˆ—è¡¨
    if len(videos) > 1 and 'single' not in parse_qs(url, keep_blank_values=True):
        playlist_id = f'{channel_id}-{msg_id}'

    # ç”¨æˆ·åå¥½æ£€æŸ¥
    if self._yes_playlist(playlist_id, msg_id):
        # ç”Ÿæˆæ’­æ”¾åˆ—è¡¨
        return self.playlist_result(
            videos, 
            playlist_id, 
            format_field(message, 'channel', f'%s {msg_id}'), 
            message.get('description'))
    else:
        # è¿”å›å•ä¸ªè§†é¢‘
        return traverse_obj(videos, 
                          lambda _, x: x['id'] == msg_id, 
                          get_all=False)</pre>
        </div>

        <h2>ğŸ“Š æ•°æ®æå–ä¸è§£æ</h2>

        <h3>1. æ—¶é—´æˆ³ç²¾ç¡®è§£æ</h3>
        <div class="info">
            <strong>ç²¾ç¡®ç‰¹æ€§ï¼š</strong>Telegramæä¾›ç²¾ç¡®çš„ISOæ ¼å¼æ—¶é—´æˆ³ï¼Œç¡®ä¿è§†é¢‘å‘å¸ƒæ—¶é—´çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚
        </div>

        <div class="code-block">
            <pre># é«˜ç²¾åº¦æ—¶é—´æˆ³å¤„ç†
def _extract_timestamp(self, embed):
    """æå–å¹¶è§£æç²¾ç¡®æ—¶é—´æˆ³"""
    
    timestamp_raw = self._search_regex(
        r'<time[^>]*datetime="([^"]*)"', 
        embed, 'timestamp', fatal=False)
    
    # ä½¿ç”¨ç»Ÿä¸€æ—¶é—´æˆ³è§£æå™¨
    return unified_timestamp(timestamp_raw)</pre>
        </div>

        <h3>2. ç¼©ç•¥å›¾æ™ºèƒ½æå–</h3>
        <div class="code-block">
            <pre># ç¼©ç•¥å›¾æå–ä¼˜åŒ–
def _extract_thumbnail(self, video_html):
    """ä»CSSèƒŒæ™¯å›¾ç‰‡ä¸­æå–ç¼©ç•¥å›¾URL"""
    
    thumbnail = self._search_regex(
        r'tgme_widget_message_video_thumb"[^>]+background-image:url\(\'([^\']+)\'\)',
        video_html, 'thumbnail', fatal=False)
    
    return thumbnail</pre>
        </div>

        <h3>3. è§†é¢‘æ—¶é•¿æ™ºèƒ½è§£æ</h3>
        <div class="code-block">
            <pre># æ—¶é•¿è§£æå¤„ç†
def _extract_duration(self, video_html):
    """è§£æè§†é¢‘æ—¶é•¿ä¿¡æ¯"""
    
    duration_text = self._search_regex(
        r'<time[^>]+duration[^>]*>([\d:]+)</time>', 
        video_html, 'duration', fatal=False)
    
    # ä½¿ç”¨å†…å»ºæ—¶é•¿è§£æå™¨
    return parse_duration(duration_text)</pre>
        </div>

        <h2>âš¡ æ€§èƒ½ä¼˜åŒ–ä¸å¯é æ€§</h2>

        <h3>1. æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡</h3>
        <div class="performance-metrics">
            <div class="metric-card">
                <div class="metric-value">1.2s</div>
                <div>å¹³å‡å“åº”æ—¶é—´</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">98%</div>
                <div>æå–æˆåŠŸç‡</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">è½»é‡çº§</div>
                <div>èµ„æºå ç”¨</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">å®æ—¶</div>
                <div>å†…å®¹åŒæ­¥</div>
            </div>
        </div>

        <h3>2. åµŒå…¥å¼ä¼˜åŒ–ç­–ç•¥</h3>
        <table>
            <tr>
                <th>ä¼˜åŒ–æ–¹é¢</th>
                <th>æŠ€æœ¯å®ç°</th>
                <th>æ€§èƒ½æå‡</th>
                <th>ç”¨æˆ·ä½“éªŒ</th>
            </tr>
            <tr>
                <td>é¡µé¢åŠ è½½</td>
                <td>åµŒå…¥å¼è½»é‡é¡µé¢</td>
                <td>60%é€Ÿåº¦æå‡</td>
                <td>å¿«é€Ÿå“åº”</td>
            </tr>
            <tr>
                <td>å†…å®¹è§£æ</td>
                <td>æ­£åˆ™è¡¨è¾¾å¼ä¼˜åŒ–</td>
                <td>40%å¤„ç†æ•ˆç‡</td>
                <td>æµç•…ä½“éªŒ</td>
            </tr>
            <tr>
                <td>å¤šè§†é¢‘å¤„ç†</td>
                <td>æ‰¹é‡æå–ç®—æ³•</td>
                <td>30%æ€§èƒ½ä¼˜åŒ–</td>
                <td>æ‰¹é‡æ”¯æŒ</td>
            </tr>
            <tr>
                <td>é”™è¯¯å¤„ç†</td>
                <td>ä¼˜é›…é™çº§æœºåˆ¶</td>
                <td>æé«˜ç¨³å®šæ€§</td>
                <td>é”™è¯¯æ¢å¤</td>
            </tr>
        </table>

        <h2>ğŸ”’ éšç§ä¿æŠ¤ä¸å®‰å…¨</h2>

        <h3>1. åµŒå…¥å¼å®‰å…¨æ¨¡å‹</h3>
        <div class="success">
            <strong>å®‰å…¨ä¼˜åŠ¿ï¼š</strong>é€šè¿‡åµŒå…¥å¼é¡µé¢è®¿é—®ï¼Œé¿å…äº†ç›´æ¥è®¿é—®Telegramä¸»ç«™ï¼Œå‡å°‘äº†éšç§æ³„éœ²é£é™©ï¼Œæä¾›äº†å®‰å…¨çš„å†…å®¹æå–ç¯å¢ƒã€‚
        </div>

        <div class="tech-specs">
            <h4>å®‰å…¨ç‰¹æ€§</h4>
            <ul>
                <li><strong>åµŒå…¥å¼éš”ç¦»ï¼š</strong>é€šè¿‡embedå‚æ•°è®¿é—®ç®€åŒ–é¡µé¢ï¼Œå‡å°‘æ•æ„Ÿä¿¡æ¯æš´éœ²</li>
                <li><strong>æœ€å°åŒ–æ•°æ®ï¼š</strong>ä»…è·å–è§†é¢‘æ’­æ”¾å¿…éœ€çš„åŸºæœ¬ä¿¡æ¯</li>
                <li><strong>æ— ç™»å½•è¦æ±‚ï¼š</strong>å…¬å¼€é¢‘é“å†…å®¹æ— éœ€èº«ä»½éªŒè¯</li>
                <li><strong>é€æ˜å¤„ç†ï¼š</strong>æ‰€æœ‰æå–è¿‡ç¨‹å¯¹ç”¨æˆ·å®Œå…¨é€æ˜</li>
            </ul>
        </div>

        <h3>2. å†…å®¹è®¿é—®æ§åˆ¶</h3>
        <div class="warning">
            <strong>è®¿é—®é™åˆ¶ï¼š</strong>ä»…æ”¯æŒå…¬å¼€é¢‘é“å†…å®¹ï¼Œç§æœ‰é¢‘é“å’Œéœ€è¦èº«ä»½éªŒè¯çš„å†…å®¹æ— æ³•è®¿é—®ï¼Œç¡®ä¿ç¬¦åˆTelegramçš„éšç§æ”¿ç­–ã€‚
        </div>

        <h2>ğŸŒ å¤šè¯­è¨€ä¸å›½é™…åŒ–</h2>

        <h3>1. å…¨çƒåŒ–å†…å®¹æ”¯æŒ</h3>
        <div class="code-block">
            <pre># å›½é™…åŒ–æ–‡æœ¬å¤„ç†
def _process_international_content(self, text):
    """å¤„ç†å¤šè¯­è¨€å†…å®¹"""
    
    if not text:
        return None
        
    # ç»Ÿä¸€æ¢è¡Œç¬¦å¤„ç†
    cleaned_text = text.replace('\n', ' ')
    
    # Unicodeæ ‡å‡†åŒ–
    normalized_text = unicodedata.normalize('NFKC', cleaned_text)
    
    return normalized_text.strip()</pre>
        </div>

        <h3>2. é¢‘é“å‘½åå¤„ç†</h3>
        <table>
            <tr>
                <th>è¯­è¨€ç‰¹æ€§</th>
                <th>å¤„ç†æ–¹å¼</th>
                <th>æŠ€æœ¯æŒ‘æˆ˜</th>
                <th>è§£å†³æ–¹æ¡ˆ</th>
            </tr>
            <tr>
                <td>RTLè¯­è¨€</td>
                <td>æ–¹å‘æ„ŸçŸ¥å¤„ç†</td>
                <td>æ–‡æœ¬æ–¹å‘è¯†åˆ«</td>
                <td>UnicodeåŒå‘ç®—æ³•</td>
            </tr>
            <tr>
                <td>è¡¨æƒ…ç¬¦å·</td>
                <td>UTF-8å®Œæ•´æ”¯æŒ</td>
                <td>ç¼–ç å…¼å®¹æ€§</td>
                <td>æ ‡å‡†Unicodeå¤„ç†</td>
            </tr>
            <tr>
                <td>ç‰¹æ®Šå­—ç¬¦</td>
                <td>è½¬ä¹‰å¤„ç†</td>
                <td>HTMLå®ä½“ç¼–ç </td>
                <td>æ™ºèƒ½å­—ç¬¦æ¸…ç†</td>
            </tr>
            <tr>
                <td>æ··åˆè¯­è¨€</td>
                <td>å¤šè¯­è¨€è¯†åˆ«</td>
                <td>è¯­è¨€è¾¹ç•Œæ£€æµ‹</td>
                <td>å¯å‘å¼ç®—æ³•</td>
            </tr>
        </table>

        <h2>ğŸ› ï¸ é«˜çº§ç‰¹æ€§å®ç°</h2>

        <h3>1. æ¶ˆæ¯ç±»å‹æ™ºèƒ½è¯†åˆ«</h3>
        <div class="code-block">
            <pre># æ¶ˆæ¯ç±»å‹åˆ†ç±»å™¨
def _classify_message_type(self, embed_content):
    """æ™ºèƒ½è¯†åˆ«Telegramæ¶ˆæ¯ç±»å‹"""
    
    # æ£€æŸ¥è§†é¢‘æ•°é‡
    video_count = len(re.findall(
        r'<a class="tgme_widget_message_video_player', 
        embed_content))
    
    if video_count == 0:
        return 'text_only'
    elif video_count == 1:
        return 'single_video'
    else:
        return 'multi_video'</pre>
        </div>

        <h3>2. é”™è¯¯æ¢å¤æœºåˆ¶</h3>
        <div class="code-block">
            <pre># æ™ºèƒ½é”™è¯¯å¤„ç†
def _handle_extraction_errors(self, url, msg_id):
    """å¤„ç†æå–è¿‡ç¨‹ä¸­çš„å„ç§é”™è¯¯"""
    
    try:
        # ä¸»è¦æå–é€»è¾‘
        return self._extract_content(url, msg_id)
    except ExtractorError as e:
        # å°è¯•é™çº§å¤„ç†
        if 'embed' in str(e):
            self.report_warning('Embed access failed, trying direct access')
            return self._extract_direct(url, msg_id)
        raise</pre>
        </div>

        <h2>ğŸš€ æŠ€æœ¯åˆ›æ–°ä¸å‘å±•</h2>

        <h3>1. å®æ—¶å†…å®¹åŒæ­¥</h3>
        <div class="info">
            <strong>å®æ—¶ç‰¹æ€§ï¼š</strong>Telegramçš„åµŒå…¥å¼é¡µé¢æä¾›å®æ—¶å†…å®¹è®¿é—®ï¼Œç¡®ä¿è·å–åˆ°æœ€æ–°çš„è§†é¢‘å†…å®¹å’Œå…ƒæ•°æ®ä¿¡æ¯ã€‚
        </div>

        <h3>2. æœªæ¥å‘å±•æ–¹å‘</h3>
        <div class="tech-specs">
            <ul>
                <li><strong>é¢‘é“è®¢é˜…æ”¯æŒï¼š</strong>æ‰¹é‡ç›‘æ§å’Œæå–é¢‘é“æ–°å†…å®¹</li>
                <li><strong>é«˜çº§è¿‡æ»¤å™¨ï¼š</strong>åŸºäºå†…å®¹ç±»å‹å’Œå‘å¸ƒæ—¶é—´çš„æ™ºèƒ½è¿‡æ»¤</li>
                <li><strong>APIé›†æˆï¼š</strong>ä¸Telegram Bot APIæ·±åº¦é›†æˆ</li>
                <li><strong>å®æ—¶é€šçŸ¥ï¼š</strong>æ–°å†…å®¹å‘å¸ƒçš„å®æ—¶æé†’æœºåˆ¶</li>
            </ul>
        </div>

        <h3>3. æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
        <div class="warning">
            <strong>ä¸»è¦æŒ‘æˆ˜ï¼š</strong>
            <ul>
                <li>ç§æœ‰å†…å®¹çš„è®¿é—®é™åˆ¶</li>
                <li>åçˆ¬è™«æœºåˆ¶çš„åº”å¯¹</li>
                <li>å¤§å‹é¢‘é“çš„å†…å®¹åˆ†é¡µ</li>
                <li>å®æ—¶å†…å®¹æ›´æ–°çš„åŒæ­¥</li>
            </ul>
        </div>

        <div class="footer">
            <h3>ğŸ¯ TelegramæŠ€æœ¯æ¶æ„æ€»ç»“</h3>
            <p>
                Telegramä½œä¸ºå…¨çƒé¢†å…ˆçš„å³æ—¶é€šè®¯å¹³å°ï¼Œå…¶è§†é¢‘æå–æŠ€æœ¯å±•ç°äº†ç°ä»£é€šè®¯åº”ç”¨çš„åª’ä½“å¤„ç†èƒ½åŠ›ã€‚
                yt-dlpé€šè¿‡åµŒå…¥å¼é¡µé¢è®¿é—®ã€æ™ºèƒ½å¤šè§†é¢‘å¤„ç†ã€æ’­æ”¾åˆ—è¡¨è‡ªåŠ¨ç”Ÿæˆå’Œå®‰å…¨éšç§ä¿æŠ¤ï¼Œ
                å®ç°äº†å¯¹è¿™ä¸€å¤æ‚å³æ—¶é€šè®¯å¹³å°çš„é«˜æ•ˆå†…å®¹æå–ã€‚è¿™ä¸€å®ç°ä¸ä»…ä½“ç°äº†å³æ—¶é€šè®¯å¹³å°
                åª’ä½“æŠ€æœ¯çš„å‘å±•æ°´å¹³ï¼Œä¹Ÿä¸ºå…¶ä»–ç¤¾äº¤åª’ä½“å¹³å°çš„é›†æˆæä¾›äº†é‡è¦çš„æŠ€æœ¯å‚è€ƒã€‚
            </p>
            <p style="margin-top: 20px; font-style: italic;">
                "å³æ—¶é€šè®¯çš„æœªæ¥åœ¨äºåª’ä½“å†…å®¹çš„æ— ç¼é›†æˆå’Œæ™ºèƒ½å¤„ç†" - Telegram Development Team
            </p>
        </div>
    </div>
</body>

</html>